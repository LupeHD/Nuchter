<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Track je nuchtere dagen en zie dagelijks positieve gezondheidsvoordelen">
  <meta name="theme-color" content="#10b981">
  <title>Nuchtere Dagen Tracker</title>
  
  <style>
    /* Definieer kleurvariabelen voor de thema's */
    :root {
      /* Standaard Groen (Emerald) */
      --bg-gradient-1: #f0fdf4;
      --bg-gradient-2: #ecfdf5;
      --border-light: #d1fae5;
      --border-medium: #bbf7d0;
      --border-dark: #86efac;
      --text-accent: #059669;
      --text-accent-hover: #047857;
      --primary-main: #10b981;
      --primary-gradient-start: #10b981;
      --primary-gradient-end: #059669;
      --input-focus: #4ade80;
      --counter-1: #059669;
      --counter-2: #10b981;
      --counter-3: #14b8a6;
      --icon-bg-1: #d1fae5;
      --icon-bg-2: #a7f3d0;
    }

    /* Sportmodus Blauw (Sky) */
    body.sport-mode {
      --bg-gradient-1: #f0f9ff;
      --bg-gradient-2: #e0f2fe;
      --border-light: #e0f2fe;
      --border-medium: #bae6fd;
      --border-dark: #7dd3fc;
      --text-accent: #0284c7;
      --text-accent-hover: #0369a1;
      --primary-main: #0ea5e9;
      --primary-gradient-start: #0ea5e9;
      --primary-gradient-end: #0284c7;
      --input-focus: #38bdf8;
      --counter-1: #0284c7;
      --counter-2: #0ea5e9;
      --counter-3: #06b6d4;
      --icon-bg-1: #e0f2fe;
      --icon-bg-2: #bae6fd;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      background: linear-gradient(to bottom right, var(--bg-gradient-1), #ffffff, var(--bg-gradient-2));
      min-height: 100vh;
      transition: background 0.3s ease;
    }

    .container {
      max-width: 896px;
      margin: 0 auto;
      padding: 1rem;
    }

    @media (min-width: 768px) {
      .container {
        padding: 2rem;
      }
    }

    .header {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-light);
      position: sticky;
      top: 0;
      z-index: 10;
      transition: border-color 0.3s;
    }

    .header-content {
      max-width: 896px;
      margin: 0 auto;
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 0.75rem;
    }

    .header-title {
      font-size: 1.5rem;
      font-weight: 300;
      color: #1f2937;
    }

    @media (max-width: 640px) {
      .header-title {
        font-size: 1.25rem;
      }
      
      .mode-toggle-container {
        padding: 0.375rem 0.75rem;
      }
      
      .mode-toggle-label {
        font-size: 0.8rem;
      }
    }

    .header-button {
      font-size: 0.875rem;
      color: var(--text-accent);
      background: none;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: color 0.2s;
      padding: 0.5rem;
    }

    .header-button:hover {
      color: var(--text-accent-hover);
    }

    .mode-toggle-container {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.5rem 1rem;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 2rem;
      border: 1px solid var(--border-light);
      transition: border-color 0.3s;
    }

    .mode-toggle-label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
      color: #374151;
      font-weight: 500;
    }

    .toggle-switch {
      position: relative;
      width: 3rem;
      height: 1.5rem;
      background: #e5e7eb;
      border-radius: 9999px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .toggle-switch.active {
      background: var(--primary-main);
    }

    .toggle-slider {
      position: absolute;
      top: 0.125rem;
      left: 0.125rem;
      width: 1.25rem;
      height: 1.25rem;
      background: white;
      border-radius: 9999px;
      transition: transform 0.3s;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .toggle-switch.active .toggle-slider {
      transform: translateX(1.5rem);
    }

    .card {
      background: white;
      border-radius: 1.5rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      padding: 2rem;
      border: 1px solid var(--border-light);
      margin-bottom: 1.5rem;
      transition: border-color 0.3s;
    }

    @media (min-width: 768px) {
      .card {
        padding: 3rem;
      }
    }

    .card-hover {
      transition: transform 0.2s;
    }

    .card-hover:hover {
      transform: scale(1.02);
    }

    .center-screen {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .date-picker-card {
      background: white;
      border-radius: 1.5rem;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      padding: 2rem;
      max-width: 28rem;
      width: 100%;
      border: 1px solid var(--border-light);
      position: relative; /* Voor het kruisje */
    }

    /* Nieuwe stijl voor het kruisje */
    .close-button {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: #9ca3af;
      cursor: pointer;
      width: 2rem;
      height: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.2s;
    }

    .close-button:hover {
      background-color: #f3f4f6;
      color: #374151;
    }

    @media (min-width: 768px) {
      .date-picker-card {
        padding: 3rem;
      }
    }

    .icon-circle {
      display: inline-flex;
      padding: 1rem;
      background: linear-gradient(to bottom right, var(--icon-bg-1), var(--icon-bg-2));
      border-radius: 9999px;
      margin-bottom: 1rem;
      font-size: 3rem;
    }

    .icon-circle-small {
      padding: 0.75rem;
      background: linear-gradient(to bottom right, var(--icon-bg-1), var(--icon-bg-2));
      border-radius: 9999px;
      margin-bottom: 1rem;
      display: inline-flex;
      font-size: 2rem;
    }

    .icon-white {
      padding: 0.75rem;
      background: white;
      border-radius: 9999px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      font-size: 1.5rem;
    }

    .title-large {
      font-size: 1.875rem;
      font-weight: 300;
      color: #1f2937;
      margin-bottom: 0.5rem;
      text-align: center;
    }

    .subtitle {
      color: #4b5563;
      text-align: center;
      margin-bottom: 2rem;
    }

    .input-datetime {
      width: 100%;
      padding: 1rem;
      border: 2px solid var(--border-medium);
      border-radius: 0.75rem;
      font-size: 1.125rem;
      margin-bottom: 1.5rem;
      transition: border-color 0.2s;
    }

    .input-datetime:focus {
      outline: none;
      border-color: var(--input-focus);
    }

    .button-primary {
      width: 100%;
      padding: 1rem 1.5rem;
      background: linear-gradient(to right, var(--primary-gradient-start), var(--primary-gradient-end));
      color: white;
      border: none;
      border-radius: 0.75rem;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      transition: all 0.2s;
    }

    .button-primary:hover:not(:disabled) {
      opacity: 0.95;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    }

    .button-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .button-danger {
      padding: 0.75rem 1.5rem;
      background: linear-gradient(to right, #ef4444, #ec4899);
      color: white;
      border: none;
      border-radius: 0.75rem;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      transition: all 0.2s;
    }

    .button-danger:hover {
      background: linear-gradient(to right, #dc2626, #db2777);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    .button-confirm {
      padding: 0.5rem 1.25rem;
      background: #dc2626;
      color: white;
      border: none;
      border-radius: 0.5rem;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s;
    }

    .button-confirm:hover {
      background: #b91c1c;
    }

    .button-cancel {
      padding: 0.5rem 1.25rem;
      background: #e5e7eb;
      color: #374151;
      border: none;
      border-radius: 0.5rem;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s;
    }

    .button-cancel:hover {
      background: #d1d5db;
    }

    .text-small {
      text-align: center;
      font-size: 0.875rem;
      color: #6b7280;
      margin-top: 1rem;
    }

    .counter-title {
      font-size: 1.25rem;
      font-weight: 300;
      color: #4b5563;
      margin-bottom: 2rem;
      text-align: center;
    }

    .counter-grid {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    @media (min-width: 768px) {
      .counter-grid {
        gap: 2rem;
      }
    }

    .counter-item {
      text-align: center;
    }

    .counter-number {
      font-size: 3rem;
      font-weight: 300;
      margin-bottom: 0.5rem;
      transition: color 0.3s;
    }

    @media (min-width: 768px) {
      .counter-number {
        font-size: 3.75rem;
      }
    }

    .counter-number-green {
      color: var(--counter-1);
    }

    .counter-number-emerald {
      color: var(--counter-2);
    }

    .counter-number-teal {
      color: var(--counter-3);
    }

    .counter-label {
      font-size: 0.875rem;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .divider {
      padding-top: 1.5rem;
      border-top: 1px solid var(--border-light);
      text-align: center;
    }

    .next-milestone-label {
      font-size: 0.875rem;
      color: #4b5563;
      margin-bottom: 0.5rem;
    }

    .next-milestone-content {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .milestone-icon {
      font-size: 1.5rem;
    }

    .milestone-title {
      font-size: 1.125rem;
      font-weight: 300;
      color: #1f2937;
    }

    .milestone-remaining {
      font-size: 0.875rem;
      color: #6b7280;
    }

    .benefit-card {
      background: linear-gradient(to bottom right, var(--bg-gradient-1), var(--bg-gradient-2));
      border-radius: 1.5rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      padding: 2rem;
      border: 1px solid var(--border-medium);
      margin-bottom: 1.5rem;
    }

    .benefit-content {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
    }

    .benefit-text {
      flex: 1;
    }

    .benefit-title {
      font-size: 1.25rem;
      font-weight: 300;
      color: #1f2937;
      margin-bottom: 0.5rem;
    }

    .benefit-description {
      color: #374151;
      line-height: 1.625;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: 300;
      color: #1f2937;
    }

    .milestone-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    @media (min-width: 768px) {
      .milestone-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .milestone-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .milestone-card {
      padding: 1.25rem;
      border-radius: 1rem;
      border: 2px solid #d1d5db;
      transition: all 0.2s;
    }

    .milestone-achieved {
      background: linear-gradient(to bottom right, var(--icon-bg-1), var(--icon-bg-2));
      border-color: var(--border-dark);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .milestone-pending {
      background: #f9fafb;
      opacity: 0.5;
    }

    .milestone-header {
      text-align: center;
      margin-bottom: 0.75rem;
    }

    .milestone-emoji {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .milestone-name {
      font-size: 1rem;
      font-weight: 500;
      color: #1f2937;
      margin-bottom: 0.25rem;
    }

    .milestone-badge {
      font-size: 0.75rem;
      color: var(--text-accent);
      font-weight: 500;
    }

    .milestone-benefit {
      padding-top: 0.75rem;
      border-top: 1px solid var(--border-medium);
    }

    .milestone-benefit-title {
      font-size: 0.875rem;
      font-weight: 500;
      color: #374151;
      margin-bottom: 0.25rem;
    }

    .milestone-benefit-text {
      font-size: 0.75rem;
      color: #4b5563;
      line-height: 1.5;
    }

    .reset-card {
      background: white;
      border-radius: 1.5rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      padding: 1.5rem;
      border: 1px solid #fecaca;
      text-align: center;
    }

    .reset-title {
      font-size: 1.125rem;
      font-weight: 300;
      color: #374151;
      margin-bottom: 1rem;
    }

    .confirm-text {
      font-size: 0.875rem;
      color: #374151;
      font-weight: 500;
      margin-bottom: 0.75rem;
    }

    .button-group {
      display: flex;
      gap: 0.75rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .space-y {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script>
    // App state
    let startDate = localStorage.getItem('sobrietyStartDate') || null;
    let showDatePicker = !startDate;
    let timeElapsed = { days: 0, hours: 0, minutes: 0 };
    let currentBenefit = null;
    let tempDate = '';
    let showResetConfirm = false;
    let sportMode = localStorage.getItem('sportMode') === 'true';

    const benefits = [
      { day: 1, title: "Bloedsuiker stabiliseert", text: "Je bloedsuikerspiegel stabiliseert. De focus van je lever verschuift van alcohol verwerken naar het reguleren van je energie. Je kunt je nog wat wankel of zweterig voelen, maar de acute giftigheid neemt af.", icon: "üåü" },
      { day: 2, title: "Systeem reinigt zich", text: "De laatste resten alcohol verlaten je systeem. Je nieren werken effici√´nter en je hydratatie verbetert. Hoofdpijn (door uitdroging) begint weg te trekken.", icon: "üí™" },
      { day: 3, title: "Hangxiety verdwijnt", text: "De beruchte 'hangxiety' (angstgevoelens na drank) ebt weg. Je zenuwstelsel kalmeert. Je bloeddruk begint te normaliseren.", icon: "‚ú®" },
      { day: 4, title: "Spijsvertering herstelt", text: "Je spijsvertering herstelt. Alcohol irriteert het maagslijmvlies; zonder die prikkel neemt je lichaam voedingsstoffen weer beter op.", icon: "üçÉ" },
      { day: 5, title: "Diepere slaap", text: "Je begint beter door te slapen. Hoewel alcohol je helpt inslapen, verpest het de kwaliteit. Na 5 dagen begin je weer in de diepe, herstellende slaapfasen te komen.", icon: "üò¥" },
      { day: 7, title: "REM-slaap herstelt", text: "Je REM-slaap (droomslaap) herstelt zich volledig. Dit is cruciaal voor emotionele verwerking en geheugen. Je hebt meer energie overdag en je mentale focus neemt toe.", icon: "üå±" },
      { day: 10, title: "Frissere huid", text: "Je huid ziet er frisser uit. Alcohol verwijdt de bloedvaten en onttrekt vocht; na 10 dagen zie je minder roodheid en wallen.", icon: "‚ú®" },
      { day: 14, title: "Maagklachten verdwijnen", text: "Brandend maagzuur en reflux nemen significant af. Ook begin je gewicht te verliezen (alcohol bevat veel 'lege' calorie√´n en vertraagt de vetverbranding).", icon: "üåø" },
      { day: 21, title: "Hersenmist verdwijnt", text: "Je concentratievermogen en cognitieve functies verbeteren. Het 'hersenmist'-gevoel verdwijnt doordat de communicatie tussen neuronen weer soepeler verloopt.", icon: "üß†" },
      { day: 30, title: "Lever ontvet", text: "De leververvetting neemt af. Onderzoek toont aan dat na 30 dagen nuchterheid het vetpercentage in de lever met gemiddeld 15% tot 20% kan dalen. Je immuunsysteem wordt sterker.", icon: "üå≥" },
      { day: 60, title: "Hart ontspant", text: "Je bloeddruk is stabieler en je hart hoeft minder hard te werken. Je algemene stressniveau daalt omdat je cortisolspiegel (het stresshormoon) niet meer constant geprikkeld wordt door alcoholgebruik.", icon: "üíö" },
      { day: 90, title: "Bloedbeeld verbetert", text: "Je bloedbeeld verbetert aanzienlijk. Rode bloedcellen zijn gezonder, wat zorgt voor een beter zuurstoftransport. Bij mannen verbetert de spermakwaliteit; bij vrouwen de hormonale balans.", icon: "üèÜ" },
      { day: 180, title: "Brein reset compleet", text: "De neurotransmitters in je brein (zoals dopamine en GABA) zijn gereset. Je bent weer in staat om plezier te beleven aan kleine dingen zonder de 'kick' van alcohol. Je mentale veerkracht is op een hoogtepunt.", icon: "‚≠ê" },
      { day: 270, title: "Lever bijna optimaal", text: "De lever heeft een enorme zelfgenezende capaciteit getoond. Tenzij er sprake was van blijvende littekens (cirrose), functioneert je lever nu weer bijna optimaal. Je weerstand tegen infecties is maximaal.", icon: "üíé" },
      { day: 365, title: "Gezondheidsrisico gehalveerd", text: "Het risico op verschillende soorten kanker (mond, keel, lever, borst) is drastisch verlaagd. Je hart- en vaatziektenrisico is gehalveerd ten opzichte van een zware drinker. Je bent mentaal scherper, fysiek fitter en je hebt waarschijnlijk een aanzienlijk bedrag bespaard.", icon: "üëë" }
    ];

    const sportBenefits = [
      { day: 1, title: "Hydratatie normaliseert", text: "Je hydratatiestatus normaliseert. Alcohol is een diureticum (vochtafdrijvend). Zonder alcohol houdt je lichaam water en elektrolyten (zoals natrium en kalium) beter vast, wat cruciaal is voor spiercontracties en het voorkomen van krampen.", icon: "üíß" },
      { day: 2, title: "Gluconeogenese herstelt", text: "Je lever kan zich weer volledig richten op gluconeogenese (het aanmaken van glucose). Alcohol blokkeert dit proces, waardoor je bloedsuikerspiegel laag kan zijn. Nu heb je weer stabiele energie voor een intensieve training.", icon: "‚ö°" },
      { day: 3, title: "HRV stijgt", text: "Je Heart Rate Variability (HRV) begint te stijgen. Een hogere HRV is een teken dat je zenuwstelsel hersteld is van de stress van alcohol. Je rusthartslag daalt, wat betekent dat je hart effici√´nter pompt.", icon: "‚ù§Ô∏è" },
      { day: 4, title: "Ontstekingen dalen", text: "De ontstekingswaarden in je bloed dalen. Alcohol veroorzaakt systemische ontstekingen. Zonder alcohol herstellen je spieren sneller van microscheurtjes (spierpijn na training).", icon: "üî•" },
      { day: 5, title: "Glycogeenvoorraad optimaliseert", text: "Je glycogeenvoorraden (de brandstof in je spieren) worden effici√´nter aangevuld. Je zult merken dat je tijdens duursporten minder snel 'de man met de hamer' tegenkomt.", icon: "üîã" },
      { day: 7, title: "Groeihormoon piekt", text: "Je slaaparchitectuur verbetert drastisch. Tijdens de diepe slaap maakt je lichaam Groeihormoon (HGH) aan. Alcohol onderdrukt dit hormoon tot wel 70%. Na een week nuchterheid piekt je natuurlijke spierherstel 's nachts.", icon: "üí™" },
      { day: 10, title: "Reactievermogen optimaal", text: "Je reactievermogen en motoriek zijn weer optimaal. Zelfs kleine hoeveelheden alcohol kunnen je balans en oog-handco√∂rdinatie dagenlang subtiel verstoren. Nu ben je scherper tijdens technische sporten of balsporten.", icon: "‚ö°" },
      { day: 14, title: "Vitamine-opname verbetert", text: "Je bloedvolume stabiliseert en de opname van vitamines (zoals B12 en foliumzuur) verbetert. Dit is essentieel voor de aanmaak van rode bloedcellen, die zuurstof naar je spieren transporteren.", icon: "ü©∏" },
      { day: 21, title: "Vetverbranding effici√´nter", text: "Je vetverbranding wordt effici√´nter. Zolang er alcohol in je systeem zit, stopt je lichaam met het verbranden van vet om eerst de ethanol af te breken. Nu begint je lichaam gemakkelijker vetreserves aan te spreken voor energie.", icon: "üî•" },
      { day: 30, title: "Lichaamssamenstelling verbetert", text: "Verbetering van de lichaamssamenstelling. Door het wegvallen van de lege calorie√´n en de afname van oestrogeen-achtige effecten van alcohol, verlies je gemakkelijker visceraal vet (buikvet) en behoud je makkelijker spiermassa.", icon: "üí™" },
      { day: 60, title: "Testosteron-cortisol ratio herstelt", text: "De testosteron-cortisol ratio herstelt zich. Alcohol verhoogt cortisol (stress/spierafbraak) en verlaagt testosteron (spieropbouw). Na 2 maanden ben je in een veel betere 'anabole' staat om echt kracht en spiermassa te winnen.", icon: "üìà" },
      { day: 90, title: "VO2-max verbetert", text: "Je VO2-max (maximale zuurstofopname) verbetert merkbaar. Je longen en hart werken beter samen, waardoor je conditie naar een niveau stijgt dat met alcohol simpelweg niet haalbaar was.", icon: "ü´Å" },
      { day: 180, title: "Collageen synthese verbeterd", text: "De synthese van collageen is verbeterd. Alcohol remt de aanmaak van eiwitten die je pezen en banden sterk houden. Na een half jaar nuchterheid heb je een significant lager risico op blessures aan je gewrichten en pezen.", icon: "ü¶¥" },
      { day: 270, title: "Mentale weerbaarheid groter", text: "Je mentale weerbaarheid (grit) is groter. Je hebt geleerd om te presteren en te ontspannen zonder externe middelen. De 'focus' tijdens wedstrijden is scherper en je ervaart minder prestatie-angst.", icon: "üß†" },
      { day: 365, title: "Volledig metabolisch fundament", text: "Je hebt een volledig nieuw metabolisch fundament. Je immuunsysteem is zo sterk dat je minder trainingsdagen mist door verkoudheid of griep. Je sportprestaties zijn nu gebaseerd op een lichaam dat 100% effici√´nt functioneert, zonder de rem van toxische stoffen.", icon: "üèÜ" }
    ];

    const milestones = [
      { days: 1, title: "1 Dag", icon: "üåü" },
      { days: 2, title: "2 Dagen", icon: "üí™" },
      { days: 3, title: "3 Dagen", icon: "‚ú®" },
      { days: 4, title: "4 Dagen", icon: "üçÉ" },
      { days: 5, title: "5 Dagen", icon: "üò¥" },
      { days: 7, title: "1 Week", icon: "üå±" },
      { days: 10, title: "10 Dagen", icon: "‚ú®" },
      { days: 14, title: "2 Weken", icon: "üåø" },
      { days: 21, title: "3 Weken", icon: "üß†" },
      { days: 30, title: "1 Maand", icon: "üå≥" },
      { days: 60, title: "2 Maanden", icon: "üíö" },
      { days: 90, title: "3 Maanden", icon: "üèÜ" },
      { days: 180, title: "6 Maanden", icon: "‚≠ê" },
      { days: 270, title: "9 Maanden", icon: "üíé" },
      { days: 365, title: "1 Jaar", icon: "üëë" }
    ];

    function updateTime() {
      if (!startDate) return;
      
      const start = new Date(startDate);
      const now = new Date();
      const diff = now - start;

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

      timeElapsed = { days, hours, minutes };

      const activeBenefits = sportMode ? sportBenefits : benefits;
      const benefit = activeBenefits.slice().reverse().find(b => days >= b.day) || activeBenefits[0];
      currentBenefit = benefit;
    }

    function handleSetStartDate(date) {
      localStorage.setItem('sobrietyStartDate', date);
      startDate = date;
      showDatePicker = false;
      tempDate = '';
      render();
    }

    function handleConfirmDate() {
      if (tempDate) {
        // If it's a date-only string (YYYY-MM-DD), append start of day time to ensure it counts as full day
        if (tempDate.length === 10) {
            handleSetStartDate(tempDate + 'T00:00');
        } else {
            handleSetStartDate(tempDate);
        }
      }
    }

    function resetJourney() {
      const now = new Date();
      const year = now.getFullYear();
      const month = String(now.getMonth() + 1).padStart(2, '0');
      const day = String(now.getDate()).padStart(2, '0');
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const dateString = `${year}-${month}-${day}T${hours}:${minutes}`;
      
      localStorage.setItem('sobrietyStartDate', dateString);
      startDate = dateString;
      showResetConfirm = false;
      render();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function render() {
      // Toggle body class for sport mode theme
      document.body.classList.toggle('sport-mode', sportMode);
      
      const root = document.getElementById('root');
      
      if (showDatePicker) {
        // Alleen kruisje tonen als we aan het aanpassen zijn (er is al een startDate)
        const closeBtnHtml = startDate ? `
          <button id="closeDatePickerBtn" class="close-button" aria-label="Sluiten" title="Sluiten">
            ‚úï
          </button>
        ` : '';

        root.innerHTML = `
          <div class="center-screen">
            <div class="date-picker-card">
              ${closeBtnHtml}
              <div style="text-align: center;">
                <div class="icon-circle">‚ú®</div>
                <h1 class="title-large">Begin je reis</h1>
                <p class="subtitle">Wanneer begon je nuchtere leven?</p>
              </div>
              
              <input
                type="date"
                id="dateInput"
                class="input-datetime"
                max="${new Date().toISOString().slice(0, 10)}"
              />
              
              <button id="confirmBtn" class="button-primary" disabled>
                Begin mijn reis
              </button>
              
              <div class="text-small">
                Je kunt dit later altijd aanpassen
              </div>
            </div>
          </div>
        `;
        
        const dateInput = document.getElementById('dateInput');
        const confirmBtn = document.getElementById('confirmBtn');
        const closeBtn = document.getElementById('closeDatePickerBtn');
        
        dateInput.addEventListener('input', (e) => {
          tempDate = e.target.value;
          confirmBtn.disabled = !tempDate;
        });
        
        confirmBtn.addEventListener('click', handleConfirmDate);
        
        if (closeBtn) {
          closeBtn.addEventListener('click', () => {
            showDatePicker = false;
            tempDate = '';
            render();
          });
        }
        
      } else {
        updateTime();
        const nextMilestone = milestones.find(m => m.days > timeElapsed.days);
        
        root.innerHTML = `
          <div>
            <div class="header">
              <div class="header-content">
                <h1 class="header-title">Mijn Nuchtere Reis</h1>
                <div style="display: flex; align-items: center; gap: 1rem;">
                  <div class="mode-toggle-container">
                    <span class="mode-toggle-label">
                      <span style="font-size: 1.25rem;">üèÉ</span>
                      <span>Sportmodus</span>
                    </span>
                    <div id="modeToggle" class="toggle-switch ${sportMode ? 'active' : ''}">
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                  <button id="editBtn" class="header-button">
                    üìÖ Aanpassen
                  </button>
                </div>
              </div>
            </div>

            <div class="container space-y">
              <div class="card card-hover">
                <div style="text-align: center; margin-bottom: 1.5rem;">
                  <div class="icon-circle-small">üìà</div>
                  <h2 class="counter-title">Nuchter sinds</h2>
                </div>
                
                <div class="counter-grid">
                  <div class="counter-item">
                    <div class="counter-number counter-number-green">
                      ${timeElapsed.days}
                    </div>
                    <div class="counter-label">
                      ${timeElapsed.days === 1 ? 'Dag' : 'Dagen'}
                    </div>
                  </div>
                </div>

                ${nextMilestone ? `
                  <div class="divider">
                    <p class="next-milestone-label">Volgende mijlpaal</p>
                    <div class="next-milestone-content">
                      <span class="milestone-icon">${nextMilestone.icon}</span>
                      <span class="milestone-title">${nextMilestone.title}</span>
                      <span class="milestone-remaining">
                        (nog ${nextMilestone.days - timeElapsed.days} ${nextMilestone.days - timeElapsed.days === 1 ? 'dag' : 'dagen'})
                      </span>
                    </div>
                  </div>
                ` : ''}
              </div>

              ${currentBenefit ? `
                <div class="benefit-card">
                  <div class="benefit-content">
                    <div class="icon-white">‚ú®</div>
                    <div class="benefit-text">
                      <h3 class="benefit-title">
                        ${currentBenefit.title}
                      </h3>
                      <p class="benefit-description">
                        ${currentBenefit.text}
                      </p>
                    </div>
                  </div>
                </div>
              ` : ''}

              <div class="card">
                <div class="section-header">
                  <span style="font-size: 1.5rem;">üèÜ</span>
                  <h3 class="section-title">Behaalde Mijlpalen</h3>
                </div>
                
                <div class="milestone-grid">
                  ${milestones.map((milestone) => {
                    const achieved = timeElapsed.days >= milestone.days;
                    const activeBenefits = sportMode ? sportBenefits : benefits;
                    const benefit = activeBenefits.find(b => b.day === milestone.days);
                    return `
                      <div class="milestone-card ${achieved ? 'milestone-achieved' : 'milestone-pending'}">
                        <div class="milestone-header">
                          <div class="milestone-emoji">${milestone.icon}</div>
                          <div class="milestone-name">${milestone.title}</div>
                          ${achieved ? '<div class="milestone-badge">‚úì Behaald</div>' : ''}
                        </div>
                        ${benefit && achieved ? `
                          <div class="milestone-benefit">
                            <div class="milestone-benefit-title">${benefit.title}</div>
                            <div class="milestone-benefit-text">${benefit.text}</div>
                          </div>
                        ` : ''}
                      </div>
                    `;
                  }).join('')}
                </div>
              </div>

              <div class="reset-card">
                <h3 class="reset-title">Opnieuw beginnen?</h3>
                ${!showResetConfirm ? `
                  <button id="resetBtn" class="button-danger">
                    Reis opnieuw beginnen
                  </button>
                  <p class="text-small">Dit zet je startdatum op nu</p>
                ` : `
                  <div>
                    <p class="confirm-text">Weet je het zeker? Dit zet je startdatum op nu.</p>
                    <div class="button-group">
                      <button id="confirmResetBtn" class="button-confirm">
                        Ja, opnieuw beginnen
                      </button>
                      <button id="cancelResetBtn" class="button-cancel">
                        Annuleren
                      </button>
                    </div>
                  </div>
                `}
              </div>
            </div>
          </div>
        `;
        
        document.getElementById('editBtn').addEventListener('click', () => {
          showDatePicker = true;
          render();
        });
        
        document.getElementById('modeToggle').addEventListener('click', () => {
          sportMode = !sportMode;
          localStorage.setItem('sportMode', sportMode);
          render();
        });
        
        const resetBtn = document.getElementById('resetBtn');
        if (resetBtn) {
          resetBtn.addEventListener('click', () => {
            showResetConfirm = true;
            render();
          });
        }
        
        const confirmResetBtn = document.getElementById('confirmResetBtn');
        if (confirmResetBtn) {
          confirmResetBtn.addEventListener('click', resetJourney);
        }
        
        const cancelResetBtn = document.getElementById('cancelResetBtn');
        if (cancelResetBtn) {
          cancelResetBtn.addEventListener('click', () => {
            showResetConfirm = false;
            render();
          });
        }
      }
    }

    // Initial render
    render();

    // Update time every second
    if (startDate) {
      setInterval(() => {
        if (!showDatePicker) {
          updateTime();
          // Update only the time display without full re-render
          const days = document.querySelector('.counter-number-green');
          
          if (days) days.textContent = timeElapsed.days;
        }
      }, 1000);
    }
  </script>
</body>
</html>